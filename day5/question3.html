<!-- Question 3:
Using promises/async await/fetch get the random todos from the json placeholder api. And log all the
completed todos to the console.
API Endpoint : https://jsonplaceholder.typicode.com/todos
 -->
 <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASSIGNMENT 3 DAY 5</title>
</head>

<body>
    <h2>ASSIGNMENT 3 DAY 5</h2>
    <script>


        function getData() {
            setTimeout(() => {
                fetch(`https://jsonplaceholder.typicode.com/todos/${Math.round(Math.random() * (200 - 1 + 1) + 1)}`)
                    .then(response => response.json())
                    .then(data => console.log(data))
            }, 500);
        }
        const getInfo = new Promise((resolve, reject) => {

            const error = false;
            if (error) {
                reject("oops error occured");
            }
            else {
                resolve();
            }

        })

        getInfo
            .then(getData)
            .catch(error => console.log(error))

        // function postData() {
        //     let obj = {
        //         userId: 555,
        //         title: "vanakkam tamizha...",
        //     }
        //     setTimeout(() => {
        //         fetch('https://jsonplaceholder.typicode.com/todos', {
        //             method: 'POST',
        //             body: JSON.stringify(obj)
        //         })
        //             .then(response => response.json())
        //             .then(data => console.log(data))
        //     }, 3000);
        // }


        // const postInfo = new Promise((resolve, reject) => {

        //     const error = false;
        //     if (error) {
        //         reject("oops error occured");
        //     }
        //     else {
        //         resolve();
        //     }

        // })

        // postInfo
        //     .then(postData)
        //     .catch(error => console.log(error))
    </script>
</body>

</html>